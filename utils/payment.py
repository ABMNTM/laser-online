from django.http.request import HttpRequest
from django.urls import reverse

from zarinpal import ZarinPal
from zarinpal_utils.Config import Config
from orders.models import Order


config = Config(
    merchant_id= "91be0ef2-2d23-4de9-8606-92393d420b47",
    access_token= "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIxIiwianRpIjoiNWZiNTk1ZWY4ZWU5NmUxZWJmZjUxNjZhYzVlNDQ0MmZhNGVlYjgyYjE3YmI4ZTVlOGRmNzg1NzQ0ODA2OTdmNDA2MTJjNjgxZjU1YzQ0ZWMiLCJpYXQiOjE3NTgyODgzOTAuMDM1MDUxLCJuYmYiOjE3NTgyODgzOTAuMDM1MDU3LCJleHAiOjE5MTYwNTQ3OTAuMDAzMjA4LCJzdWIiOiIzMDg1MDU2Iiwic2NvcGVzIjpbXX0.EyUqExwK02Xb6CGKmX0L5Rqzsir2dOgDWvVdNfS2j2TLvhq5EsUsqQdlK-RCDszBJntip9PajYQT3J8Zt102ZYWiuQ2ao7KQIL2RnnrNaOw5Diu38UGwMPQf_dSpry0Ns2lx0RiEbqdjlr0aAWsjq_wg4jhBEiYnMZTT2MGgbS_y7sQxsooQtuk68F0f2M-Ctzx_ss-7YADNp0Le26-9XUOrMo9239SSTdLv6xyNekX7JiO5DyDa-VE704eJNzJWkWRBDThALb_NJenzzps9Zs-Vd9Kk8vycqWWFVr_PYBTW78v_fg_c8cWRIMzbSs3uL5c4RDlkbi6AWlDT9PJLQa6bLywaJvjrr5GvAR408K7Z1u2EbGmWEoXMUlW5m16EbWv_q2IvOEKlu6jadNzmtyS6V9PSZLTqofs4Jm00hdSQH6MnibwfFX4ZcFYozitIXxnwXbAgtVElf3-BQa52D-9tDqBnarOrh7EHY5KCTK4bwZVzz-RDs6l7rTpZq2qbeU3GP0Q6Z7fBvWkVOSM0j3rVbQKGbYs248FacRipZfV0zBho_mYYHdYbWLLJ0lsMYgz6tcdr9XwnLbstjRFqppFSCYDU1BlJ6IUxuswmRb8fXKqILyMzv-5nXKJXxWVdcyCuzs0INgSwt5Ml461H934i1EFfYi53Ey0POs2ejKA",
    sandbox=False,  
)

zarinpal = ZarinPal(config)

def get_payment_uri(authority):
    return zarinpal.payments.generate_payment_url(authority)
